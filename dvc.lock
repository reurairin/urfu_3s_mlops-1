schema: '2.0'
stages:
  get_features:
    cmd: python scripts/data_processing/get_features.py data/train.csv
    deps:
    - path: data/train.csv
      hash: md5
      md5: 631d29c4b0ffe63d119d46638ec86b46
      size: 1347709
    - path: scripts/data_processing/get_features.py
      hash: md5
      md5: e850269b0b9b7603dd8c92d4db828022
      size: 872
    outs:
    - path: data/features/train.csv
      hash: md5
      md5: 49fe9866fa732d86717f772a5aca0f80
      size: 938040
  encode:
    cmd: python scripts/data_processing/encode.py data/features/train.csv
    deps:
    - path: data/features/train.csv
      hash: md5
      md5: 49fe9866fa732d86717f772a5aca0f80
      size: 938040
    - path: scripts/data_processing/encode.py
      hash: md5
      md5: c9c2cce787689960ee7086b966b6f487
      size: 705
    outs:
    - path: data/prepared/train.csv
      hash: md5
      md5: 6f6337487fa55363ea7c42557d14f073
      size: 1288798
  split:
    cmd: python3 scripts/model/split_data.py data/prepared/train.csv
    deps:
    - path: data/prepared/train.csv
      hash: md5
      md5: 6f6337487fa55363ea7c42557d14f073
      size: 1288798
    - path: scripts/model/split_data.py
      hash: md5
      md5: 93e62852fc4506228c2c9459018737d6
      size: 971
    params:
      params.yaml:
        split.split_ratio: 0.3
    outs:
    - path: data/split/test.csv
      hash: md5
      md5: 539d378fd73a4c63e4bbf9711333d2dc
      size: 386807
    - path: data/split/train.csv
      hash: md5
      md5: 3fa936e05d5aaf072c45b51fa3303bde
      size: 902141
  train_model:
    cmd: python scripts/model/train_model.py data/split/train.csv
    deps:
    - path: data/split/train.csv
      hash: md5
      md5: 3fa936e05d5aaf072c45b51fa3303bde
      size: 902141
    - path: params.yaml
      hash: md5
      md5: 931cdba6175b1c75ccb772a2ddbdb5f7
      size: 69
    - path: scripts/model/train_model.py
      hash: md5
      md5: a415d2efc6295136b555f9cdd3d7f7fe
      size: 1068
    params:
      params.yaml:
        train.max_depth: 3
        train.n_estimators: 100
    outs:
    - path: models/model.pkl
      hash: md5
      md5: 9c095b51743a2065037aa48434b1c613
      size: 133532
  evaluate:
    cmd: python scripts/model/evaluate.py models/model.pkl data/split/test.csv metrics/evaluate.json
    deps:
    - path: data/split/test.csv
      hash: md5
      md5: 539d378fd73a4c63e4bbf9711333d2dc
      size: 386807
    - path: models/model.pkl
      hash: md5
      md5: 9c095b51743a2065037aa48434b1c613
      size: 133532
    - path: scripts/model/evaluate.py
      hash: md5
      md5: 648cee5966739726bdb4aa484d0da2e0
      size: 1070
    outs:
    - path: metrics/evaluate.json
      hash: md5
      md5: 88455985c322cb6680bdd265954e866d
      size: 27
